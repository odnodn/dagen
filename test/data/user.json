{

    "title": "User",
    "@sql:table": "users",
    "type": "object",
    "properties": {
        "id": {

            "type": "${types.id}",
            "@sql:readOnly": true

        },
        "username": {
            "type": "${types.name}",
            "@sql:readOnly": true,
            "@sql:table": "users"
        },
        "password": {
            "type": "${types.password}"

        },
        "profile": {

            "type": "sum",
            "discriminator": {"type":"shape"},
            "variants": {
                "Person": {
                    "$ref": "./person.json"
                },
                "Company": {
                    "$ref": "./company.json"
                }
            }
        },
            "address": {
                "$ref": "./address.json"
            },
            "status": {

                "type": "${types.status}",
                "@sql:readOnly": true,
                "@ts:enum": ["active", "inactive", "${status.locked}"]

            }

        }

    }
